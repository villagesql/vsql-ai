INSTALL EXTENSION vsql_ai;
SELECT LENGTH(ai_prompt('google', 'gemini-2.5-flash', 'invalid_key_12345', 'Hello')) IS NULL AS invalid_key_returns_null;
invalid_key_returns_null
0
# Testing with real Google API key (key hidden from output)
SELECT ai_prompt('google', 'gemini-2.5-flash', @api_key, 'Say only the word: SUCCESS') LIKE '%SUCCESS%' AS contains_success;
contains_success
1
SELECT LENGTH(ai_prompt('google', 'gemini-2.5-flash', @api_key, 'Reply with just: OK')) > 0 AS got_response;
got_response
1
UNINSTALL EXTENSION vsql_ai;
